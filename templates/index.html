
{% extends 'base.html' %}
{% block content %}
<div class="panel">
  <div class="grid">
    <aside>
      <h3>ูุญุงุฏุซุงุชู</h3>
      <ul id="recentList" class="menu"></ul>
    </aside>
    <section>
      <div class="kv">ุฑููู: <b id="myNumber">โ</b></div>
      <div style="display:flex;gap:10px;margin:10px 0">
        <input id="peerInput" class="input" placeholder="ุฃุฏุฎู ุฑูู ูุจุฏุฃ ุจู 33">
        <button id="startChat" class="btn btn-primary">ุจุฏุก ูุญุงุฏุซุฉ</button>
      </div>
      <div class="chat" id="chatArea"></div>
      <div style="display:flex;gap:8px;margin-top:10px">
        <input id="msgInput" class="input" placeholder="ุงูุชุจ ุฑุณุงูุฉโฆ">
        <button id="sendBtn" class="btn btn-primary">ุฅุฑุณุงู</button>
        <button id="callBtn" class="btn btn-accent">ุงุชุตุงู ููุฏูู</button>
        <button id="endCallBtn" class="btn btn-danger">ุฅููุงุก ุงูููุงููุฉ</button>
      </div>
      <div class="videos">
        <div>
          <div class="kv">ุงููุงููุฑุง ุงููุญููุฉ</div>
          <video id="localVideo" autoplay playsinline muted></video>
        </div>
        <div>
          <div class="kv">ุงูุทุฑู ุงูุขุฎุฑ</div>
          <video id="remoteVideo" autoplay playsinline></video>
        </div>
      </div>
    </section>
  </div>
</div>

<!-- Modal ูุจูู/ุฑูุถ -->
<div id="callModal" class="modal">
  <div class="box">
    <h3>๐ ููุงููุฉ ูุงุฑุฏุฉ</h3>
    <p>ูุฑูุฏ <b id="callerNum">โ</b> ุงูุงุชุตุงู ุจู ุนุจุฑ ุงูููุฏูู.</p>
    <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:10px">
      <button id="acceptCall" class="btn btn-accent">ูุจูู</button>
      <button id="rejectCall" class="btn btn-danger">ุฑูุถ</button>
    </div>
  </div>
</div>
{% endblock %}
